openapi: 3.0.0
info:
  title: pixel-canvas-api
  version: 1.0.0
  description: API for handling authentication for Pixel Canvas.

components:
  securitySchemes:
    api_key:
      type: apiKey
      name: key
      in: query

# Default: require API key for all endpoints unless overridden
security:
  - api_key: []

paths:
  /auth/start:
    get:
      summary: "Start OAuth authentication"
      description: "Initiates the authentication flow and redirects the user to the login page."
      operationId: authStart
      x-google-backend:
        address: https://europe-west1-team11-dev.cloudfunctions.net/authStart
        protocol: h2
      # Public access – override default security
      security: []
      responses:
        '200':
          description: "Authentication flow started successfully."

  /auth/callback:
    get:
      summary: "Handle OAuth callback"
      description: "Receives the callback after user authentication and finalizes the login process."
      operationId: authCallback
      x-google-backend:
        address: https://europe-west1-team11-dev.cloudfunctions.net/authCallback
        protocol: h2
      # Public access – override default security
      security: []
      responses:
        '200':
          description: "Callback received and authentication completed."